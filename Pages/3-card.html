<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<header>
  
</header>
<body>
    <div class="packshot-3-card-component">
        <ul class="items">
            <!-- Card 1 -->
            <li class="item">
                <div class="Packshot-card">
                    <div class="packshot-card-img-container">
                        <div class="product-card-img">
                            <img src="https://via.placeholder.com/346x481" alt="Card 1">
                        </div>
                        <div class="custom-video">
                            <video autoplay muted loop>
                                <source src="https://www.assets.digitalupfield.com/files/3446fcc8-aac9-4d70-b70e-d5a56d25a9d8?account_id=F2A6C4A7-3B3D-42FC-95D9B645D6BC2728&expiry=1726358400000&signature=CFR%2B5OZrISpSm%2FI6pCY4H83llHX9ptaWWYSbyGd58MKGcP%2B%2Fa1Lmj7hW%2FHtSNtPw44dsgXN79JnMfQCiF%2BWlDQ%3D%3D&version=a0b1ec4b" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                    <div class="product-card-text">
                        <p class="field-item-title">Card 1 Title</p>
                        <p class="field-item-heading">Card 1 Subtitle</p>
                    </div>
                </div>
            </li>
    
            <!-- Card 2 -->
            <li class="item">
                <div class="Packshot-card">
                    <div class="packshot-card-img-container">
                        <div class="product-card-img">
                            <img src="https://via.placeholder.com/346x481" alt="Card 2">
                        </div>
                        <div class="custom-video">
                            <video autoplay muted loop>
                                <source src="https://www.assets.digitalupfield.com/files/3446fcc8-aac9-4d70-b70e-d5a56d25a9d8?account_id=F2A6C4A7-3B3D-42FC-95D9B645D6BC2728&expiry=1726358400000&signature=CFR%2B5OZrISpSm%2FI6pCY4H83llHX9ptaWWYSbyGd58MKGcP%2B%2Fa1Lmj7hW%2FHtSNtPw44dsgXN79JnMfQCiF%2BWlDQ%3D%3D&version=a0b1ec4b" type="video/mp4">
                            </video>
                        </div>
                    </div>
                    <div class="product-card-text">
                        <p class="field-item-title">Card 2 Title</p>
                        <p class="field-item-heading">Card 2 Subtitle</p>
                    </div>
                </div>
            </li>
    
            <!-- Card 3 -->
            <li class="item">
                <div class="Packshot-card">
                    <div class="packshot-card-img-container">
                        <div class="product-card-img">
                            <img src="https://via.placeholder.com/346x481" alt="Card 3">
                        </div>
                        <div class="custom-video">
                            <video autoplay muted loop>
                                <source src="https://www.assets.digitalupfield.com/files/3446fcc8-aac9-4d70-b70e-d5a56d25a9d8?account_id=F2A6C4A7-3B3D-42FC-95D9B645D6BC2728&expiry=1726358400000&signature=CFR%2B5OZrISpSm%2FI6pCY4H83llHX9ptaWWYSbyGd58MKGcP%2B%2Fa1Lmj7hW%2FHtSNtPw44dsgXN79JnMfQCiF%2BWlDQ%3D%3D&version=a0b1ec4b" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                    <div class="product-card-text">
                        <p class="field-item-title">Card 3 Title</p>
                        <p class="field-item-heading">Card 3 Subtitle</p>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
    const items = document.querySelectorAll(".packshot-3-card-component .item");
    const defaultIndex = 0;

    function setActiveCard(selectedItem) {
        // Remove "active" class from all items
        items.forEach(item => item.classList.remove("active"));

        // Add "active" class to the selected item
        selectedItem.classList.add("active");

        // Play video for the active card
        const video = selectedItem.querySelector("video");
        if (video) {
            video.play();
        }

        // Pause videos for other cards
        items.forEach(item => {
            if (item !== selectedItem) {
                const otherVideo = item.querySelector("video");
                if (otherVideo) {
                    otherVideo.pause();
                }
            }
        });
    }

    // Set the default active card
    function setDefaultActiveCard() {
        const defaultCard = items[defaultIndex];
        if (defaultCard) {
            setActiveCard(defaultCard);
        }
    }

    setDefaultActiveCard();

    // Handle hover for desktop
    items.forEach(item => {
        item.addEventListener("mouseenter", () => setActiveCard(item));
    });

    // Initialize carousel for screens wider than 992px
    function initializeCarousel() {
        if (window.innerWidth > 992) {
            const slickContainer = document.querySelector(".packshot-3-card-component .items");

            if (slickContainer && !slickContainer.classList.contains("slick-initialized")) {
                $(slickContainer).slick({
                    slidesToShow: 3,
                    slidesToScroll: 1,
                    infinite: true,
                    arrows: true,
                    dots: true,
                });
            }
        }
    }

    initializeCarousel();

    // Reinitialize carousel on window resize
    window.addEventListener("resize", () => {
        const slickContainer = document.querySelector(".packshot-3-card-component .items");

        if (slickContainer && $(slickContainer).hasClass("slick-initialized")) {
            $(slickContainer).slick("unslick");
        }

        initializeCarousel();
    });
});

</script>
</html>